<ion-header collapse="condense">
    <ion-title size="large">{{title || ""}}</ion-title>
</ion-header>

<ion-content [fullscreen]="true">
  <form id="petForm" form action="submit" (ngSubmit)="onSubmit()" [formGroup]="petForm">
    <!-- Email input -->
      <ion-list class="formList" role="list">
        <ion-item role="listitem">
          <div class="photoUploader">
            <ion-button type="button" role="button" class="buttonPhotoUploader" (click)="onSelectImage()">
              <ion-thumbnail slot="start">
                <ion-img [class.clicked]="isClicked" [src]="previewImage || 'https://ionicframework.com/docs/img/demos/thumbnail.svg'"></ion-img>
              </ion-thumbnail>
            </ion-button>
          </div>
        </ion-item>
        <ion-item role="listitem">
          <app-input
            [areaLabel]="'Nombre'"
            [name]="'name'"
            [type]="'text'"
            [inputmode]="'text'"
            [required]="true"
            [class]="'main-input'"
            [control]="getControl('name')"
            [role]="'textbox'"
            [validState]="petForm.get('name')?.invalid && petForm.get('name')?.touched && formSubmited"
            [errors]="petForm.get('name')?.errors ?? null"
            [label]="placeholderMessages.name || ''"
            [placeholder]="placeholderMessages.name || ''">
          </app-input>
        </ion-item>
        <!-- Breed input -->
        <ion-item role="listitem">
          <div id="open-modal" class="modal-container-button" [class.breedSelected]="breedSelected()">
            @if (!breedSelected()) {
              <ion-text slot="start">{{placeholderMessages.breed}}</ion-text>
              <ion-icon slot="end" name="chevron-forward"></ion-icon>
            }
            @else {
              <ion-avatar slot="start">
                <ion-img [src]="breedSelected()!.img || ''"></ion-img>
              </ion-avatar>
              <ion-label>
                <ion-text>{{breedSelected()!.name || ""}}</ion-text>
              </ion-label>
            }
          </div>
          <app-modal [breedSelected]="breedSelected" [breedsList]="breeds"></app-modal>
        </ion-item>
        <!-- Sex -->
        <ion-item role="listitem">
          <ion-radio-group value="custom-checked">  
              <div>
                <label for="">Sexo</label>
              </div>
              <div class="container">
                <label (click)="sexSelected(sexValue.femenimo)" [class.isSelected]="sexInputValue===sexValue.femenimo" [for]="sexValue.femenimo">
                  <ion-text>{{placeholderMessages.female || ""}}</ion-text>
                  <!-- <ion-radio [name]="sexValue.femenimo" [value]="sexValue.femenimo" aria-label="Checkbox para elegir sexo femenino de la mascota"></ion-radio> -->
                </label>
              
                <label (click)="sexSelected(sexValue.masculino)" [class.isSelected]="sexInputValue===sexValue.masculino" [for]="sexValue.masculino">
                  <ion-text>{{placeholderMessages.male || ""}}</ion-text>
                  <!-- <ion-radio [name]="sexValue.masculino" [value]="sexValue.masculino" aria-label="Checkbox para elegir sexo masculino de la mascota"></ion-radio> -->
                </label>
              </div>
          </ion-radio-group>
        </ion-item>
        <!-- Age input -->
        <ion-item role="listitem">
          <app-input
            [areaLabel]="'Edad'"
            [name]="'age'"
            [type]="'number'"
            [inputmode]="'number'"
            [class]="'main-input'"
            [control]="getControl('age')"
            [role]="'number'"
            [validState]="petForm.get('age')?.invalid && petForm.get('age')?.touched && formSubmited"
            [errors]="petForm.get('age')?.errors ?? null"
            [label]="placeholderMessages.age || ''"
            [pattern]="'\d*'"
            [placeholder]="placeholderMessages.age || ''">
          </app-input>
        </ion-item>
        <!-- Castrated input -->
        <ion-item role="listitem">
          <ion-radio-group value="custom-checked">
            <div>
              <label for="">Castrado</label>
            </div>
            <div class="container">
              <label (click)="castratedSelected(castratedValue.intact)" [class.isSelected]="castratedInputValue===castratedValue.intact" [for]="castratedValue.intact">
                <ion-text>{{placeholderMessages.intact || ""}}</ion-text>
                <!-- <ion-radio [name]="castratedValue.intact" [value]="castratedValue.intact" aria-label="Checkbox para elegir si la mascota no ha sido castrada"></ion-radio> -->
              </label>

              <label (click)="castratedSelected(castratedValue.castrated)" [class.isSelected]="castratedInputValue===castratedValue.castrated" [for]="castratedValue.castrated">
                <ion-text>{{placeholderMessages.castrated || ""}}
                </ion-text>
                <!-- <ion-radio [name]="castratedValue.castrated" [value]="castratedValue.castrated" aria-label="Checkbox para elegir si la mascota ha sido castrada"></ion-radio> -->
              </label>
            </div>
          </ion-radio-group>
        </ion-item>
        <ion-item role="listitem">
          <app-input
            [areaLabel]="'Peso'"
            [name]="'weight'"
            [type]="'number'"
            [inputmode]="'number'"
            [class]="'main-input'"
            [control]="getControl('weight')"
            [role]="'number'"
            [validState]="petForm.get('weight')?.invalid && petForm.get('weight')?.touched && formSubmited"
            [errors]="petForm.get('weight')?.errors ?? null"
            [label]="placeholderMessages.weight || ''"
            [pattern]="'\d*'"
            [placeholder]="placeholderMessages.weight || ''"
            [textExtraInfo]="'kg'">
          </app-input>
        </ion-item>
      </ion-list>
      <ion-item slot="fixed" class="bottom-absolute">
        <app-button [role]="'submit'" [form]="'petForm'" [type]="'submit'" [class]="'primary-button'" [buttonContent]="paragraphMessages.createPetForm"></app-button>
      </ion-item>
  </form>
</ion-content>

<!--      <ion-button id="open-action-sheet">Open</ion-button>
 <ion-action-sheet
  trigger="open-action-sheet"
  class="my-custom-class"
  header="Example header"
  subHeader="Example subheader"
  [buttons]="actionSheetButtons"
>
<ion-searchbar></ion-searchbar>

</ion-action-sheet> -->
